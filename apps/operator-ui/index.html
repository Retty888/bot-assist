<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Operator Control Center</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="top-bar">
      <div class="brand">
        <h1>Operator Control Center</h1>
        <p class="subtitle">Быстрое управление ботом и статусами</p>
      </div>
      <div class="status-pills">
        <span class="pill pill-online" id="connection-pill">API подключено</span>
        <span class="pill pill-sync">Синхронизация сигналов в норме</span>
        <span class="pill pill-risk">Риск-лимиты в зелёной зоне</span>
      </div>
    </header>

    <main class="layout">
      <section class="stack stack--sidebar">
        <article class="card summary">
          <h2>Сводка статусов</h2>
          <ul class="summary-list" id="summary-list"></ul>
        </article>

        <article class="card quick-actions">
          <h2>Быстрое управление</h2>
          <p class="caption">Триггеры для моментальных действий с ботом.</p>
          <div class="quick-actions__grid">
            <button class="chip" data-action="refresh-signals">Синхронизация сигналов</button>
            <button class="chip" data-action="pause-automation">Пауза автоматизации</button>
            <button class="chip" data-action="resolve-alerts">Закрыть алерты</button>
            <button class="chip" data-action="new-manual-order">Ручной ордер</button>
          </div>
        </article>
      </section>

      <section class="stack stack--main">
        <article class="card operations">
          <header class="card__header operations__header">
            <div>
              <h2>Оперативная панель</h2>
              <p class="caption" data-role="operations-caption">
                Контролируйте очередь сигналов, активные трекеры и заказы в одном окне.
              </p>
            </div>
            <div class="segmented" role="tablist">
              <button
                class="segmented__button segmented__button--active"
                type="button"
                role="tab"
                data-role="segmented-button"
                data-view="pipelines"
              >
                Сигналы
              </button>
              <button
                class="segmented__button"
                type="button"
                role="tab"
                data-role="segmented-button"
                data-view="trackers"
              >
                Трекеры
              </button>
              <button
                class="segmented__button"
                type="button"
                role="tab"
                data-role="segmented-button"
                data-view="orders"
              >
                Заказы
              </button>
            </div>
          </header>
          <div class="operations__toolbar">
            <div class="operations__summary" id="operations-summary"></div>
            <label class="operations__filter" data-role="orders-filter" hidden>
              <span>Фильтр</span>
              <select id="order-filter">
                <option value="all">Все</option>
                <option value="active">Активные</option>
                <option value="attention">Требуют внимания</option>
              </select>
            </label>
          </div>
          <div class="operations__lists">
            <ul class="compact-list pipeline-list" id="pipeline-list"></ul>
            <ul class="compact-list tracker-list" id="tracker-list" hidden></ul>
            <ul class="compact-list order-list" id="order-list" hidden></ul>
          </div>
          <p class="empty-state" id="operations-empty" hidden></p>
        </article>

        <article class="card form-card">
          <header class="card__header">
            <div>
              <h2>Загрузка сигнала</h2>
              <p class="caption">
                Введите ключевые параметры, дополнительные опции доступны по требованию.
              </p>
            </div>
            <button class="toggle" type="button" data-target="advanced-fields">Раскрыть доп. опции</button>
          </header>
          <form class="form" id="signal-form">
            <label>
              Источник сигнала
              <select name="signal-source">
                <option value="spotlight">Spotlight каталог</option>
                <option value="manual">Ввод вручную</option>
                <option value="webhook">Webhook</option>
              </select>
            </label>

            <label>
              Символ рынка
              <input type="text" name="symbol" placeholder="Например, ETH-PERP" required />
            </label>

            <label class="inline">
              Параметр лота
              <input type="number" name="size" min="1" step="1" value="1" />
              <span class="inline__suffix">контракты</span>
            </label>

            <fieldset id="advanced-fields" hidden>
              <legend>Продвинутые настройки</legend>
              <label>
                Комментарий оператора
                <textarea name="notes" rows="3" placeholder="Контекст для команды"></textarea>
              </label>

              <label>
                Таймаут исполнения (мин)
                <input type="number" name="timeout" min="1" max="120" step="5" value="30" />
              </label>
            </fieldset>

            <div class="form__actions">
              <button type="submit" class="primary">Отправить в исполнение</button>
              <button type="button" class="ghost" data-action="save-draft">Сохранить черновик</button>
            </div>
          </form>
        </article>
      </section>
    </main>

    <aside class="help-panel" id="help-panel" hidden>
      <h2>Справка и onboarding</h2>
      <ol>
        <li>Начните со сводки — критические индикаторы и задержки выделены цветом.</li>
        <li>На оперативной панели переключайтесь между сигналами, трекерами и заказами с помощью сегментных кнопок.</li>
        <li>Быстрые переключатели помогают мгновенно синхронизировать сигналы, поставить паузу или открыть форму ордера.</li>
        <li>Для новых сигналов заполните основную часть формы, дополнительные параметры скрыты в блоке «Раскрыть доп. опции».</li>
        <li>Фильтр заказов доступен на вкладке «Заказы» — используйте его для фокуса на критичных исполнениях.</li>
      </ol>
      <button class="ghost" data-action="close-help">Закрыть</button>
    </aside>

    <button class="help-trigger" data-action="open-help">Справка</button>

    <script src="app.js" type="module"></script>
  </body>
</html>
