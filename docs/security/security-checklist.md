# Чек-листы безопасности

Документ фиксирует обязательные проверки безопасности для проекта Hyperliquid Signal Bot. Чек-листы разделены по направлениям: управление доступом, управление зависимостями и тестирование на уязвимости.

## 1. Управление доступом

- [ ] **Учётные записи и роли**
  - [ ] Список всех сервисных аккаунтов в GitHub, CI, Hyperliquid обновлён и задокументирован.
  - [ ] Все ключи/токены хранятся в секрет-менеджере (GitHub Encrypted Secrets, Vault и т.п.).
  - [ ] Доступ к секретам ограничен по принципу наименьших привилегий.
- [ ] **Аудит логинов**
  - [ ] Включены уведомления об успешных/неуспешных входах в критичные сервисы.
  - [ ] Ведётся журнал выдачи/отзыва доступа (например, в Notion или Jira).
- [ ] **CI/CD**
  - [ ] Рабочие раннеры используют OIDC или короткоживущие токены.
  - [ ] Все джобы запускаются с read-only токеном репозитория, кроме этапов деплоя.
  - [ ] Проверено, что в workflow нет plain-text секретов или hardcode значений.
- [ ] **Приложение**
  - [ ] Express-приложение запускается за reverse-proxy с TLS.
  - [ ] Реализована валидация входных данных и защита от JSON injection.

## 2. Управление зависимостями

- [ ] Настроен автоматический мониторинг (`npm audit`, Dependabot/GitHub Alerts).
- [ ] Периодический (не реже 1 раза в месяц) запуск `npm outdated` и план обновлений.
- [ ] Введён процесс ручного ревью мажорных обновлений библиотек.
- [ ] Зафиксированы версии (lock-файл под контролем git).
- [ ] В CI добавлена команда `npm audit --audit-level=high` с фейлом на критичных уязвимостях.
- [ ] Проверка лицензий зависимостей (open source compliance) проведена и задокументирована.

## 3. Тесты на уязвимости

- [ ] Конфигурация SAST (например, `npm exec eslint`, semgrep) запускается в CI и блокирует merge при ошибках высокого уровня.
- [ ] Выполняются периодические DAST-сканы (например, OWASP ZAP против staging).
- [ ] Наличие тестов, проверяющих корректную обработку некорректных сигналов/инъекций.
- [ ] Для внешних интеграций (Hyperliquid API) настроены лимиты и валидация ответов.
- [ ] Внутренние файлы хранения (history/positions) защищены от подмены: проверены права доступа и размещение вне публичных директорий.
- [ ] Проведена ревизия CORS/headers (например, `helmet` или кастомный middleware) — результаты зафиксированы.
- [ ] При обнаружении уязвимостей определён ответственный и срок устранения (SLA).

Чек-листы актуализируются при изменении архитектуры, новых интеграциях и требованиях комплаенса.

